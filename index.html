<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <title>Web RPG Maker Editor</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div id="editor-container">
        <header id="toolbar">
            <div class="tool-group">
                <button id="btn-save">ÌîÑÎ°úÏ†ùÌä∏ Ï†ÄÏû•</button>
            </div>
            <div class="tool-group">
                <label>Î†àÏù¥Ïñ¥:</label>
                <select id="layer-select">
                    <option value="0">L1 (ÌïòÏ∏µ)</option>
                    <option value="1">L2</option>
                    <option value="2">L3</option>
                    <option value="3">L4</option>
                    <option value="4">L5 (ÏÉÅÏ∏µ)</option>
                </select>
            </div>
            <div class="tool-group">
                <label>Ïù∏Ïä§ÌéôÌÑ∞ Ìè∞Ìä∏:</label>
                <input type="range" id="inspector-font-size" min="8" max="16" value="11" style="width: 120px;">
                <span id="font-size-display" style="margin-left: 4px; font-size: 12px; min-width: 30px;">11px</span>
            </div>
            <div class="tool-group">
                <span id="map-info">Map000 (0x0)</span>
            </div>
        </header>

        <main id="workspace">
            <aside id="side-panel">
                <div id="side-panel-resizer" class="side-panel-resizer"></div>
                <section id="tileset-window">
                    <div class="panel-header">ÌÉÄÏùºÏÖã Î∑∞</div>
                    <div id="tileset-view-container">
                        <canvas id="tileset-canvas"></canvas>
                        <div id="tileset-selection-rect"></div>
                    </div>
                </section>

                <section id="map-management">
                    <div class="tileset-tabs">
                        <button class="tab-btn active" data-tab="A">A</button>
                        <button class="tab-btn" data-tab="B">B</button>
                        <button class="tab-btn" data-tab="C">C</button>
                        <button class="tab-btn" data-tab="D">D</button>
                        <button class="tab-btn" data-tab="E">E</button>
                        <button class="tab-btn" data-tab="R">R</button>
                    </div>
                    <div class="layer-select-container">
                        <div class="layer-buttons">
                            <button class="layer-btn active" data-layer="auto">ÏûêÎèô</button>
                            <button class="layer-btn" data-layer="0">1</button>
                            <button class="layer-btn" data-layer="1">2</button>
                            <button class="layer-btn" data-layer="2">3</button>
                            <button class="layer-btn" data-layer="3">4</button>
                        </div>
                        <div class="tool-buttons" style="display: flex; gap: 4px; margin-top: 8px; flex-wrap: wrap;">
                            <button class="tool-btn active" data-tool="pen" title="Ìéú (ÌÉÄÏùº Í∑∏Î¶¨Í∏∞)" style="flex: 1; min-width: 40px;">üñäÔ∏è</button>
                            <button class="tool-btn" data-tool="eraser" title="ÏßÄÏö∞Í∞ú (ÌÉÄÏùº ÏÇ≠Ï†ú)" style="flex: 1; min-width: 40px;">üßπ</button>
                            <button class="tool-btn" data-tool="rect" title="ÏÇ¨Í∞ÅÌòï (ÎìúÎûòÍ∑∏ÌïòÏó¨ ÏÇ¨Í∞ÅÌòï Ï±ÑÏö∞Í∏∞)" style="flex: 1; min-width: 40px;">‚ñ≠</button>
                            <button class="tool-btn" data-tool="reset-zoom" title="1:1 (ÌôïÎåÄ/Ï∂ïÏÜå Ï¥àÍ∏∞Ìôî)" style="flex: 1; min-width: 40px;">üîç</button>
                        </div>
                    </div>
                    <div id="map-tree">
                        <div class="panel-header">Îßµ Î™©Î°ù</div>
                        <ul id="map-list">
                        </ul>
                    </div>
                </section>
            </aside>

            <section id="map-editor">
                <div id="map-grid-container">
                    <canvas id="map-canvas"></canvas>
                    <canvas id="map-overlay-canvas"
                        style="position: absolute; left: 0; top: 0; pointer-events: none; z-index: 10;"></canvas>
                    <canvas id="event-overlay-canvas"
                        style="position: absolute; left: 0; top: 0; pointer-events: none; z-index: 1000;"></canvas>
                </div>
            </section>

            <aside id="inspector-panel">
                <div id="inspector-resizer" class="inspector-resizer"></div>
                <div class="panel-header">Ïù¥Î≤§Ìä∏ Ïù∏Ïä§ÌéôÌÑ∞</div>

                <div id="inspector-empty" class="inspector-content">
                    <p class="empty-msg">Ìé∏ÏßëÌï† Ïù¥Î≤§Ìä∏Î•º ÏÑ†ÌÉùÌïòÏÑ∏Ïöî.</p>
                </div>

                <div id="inspector-main" class="inspector-content" style="display: none;">
                    <!-- ÏµúÏÉÅÎã®: Ïù¥Î≤§Ìä∏ Ï†ïÎ≥¥ -->
                    <section class="ins-section" style="display: flex; gap: 8px; margin-bottom: 12px;">
                        <div class="ins-row" style="flex: 1;">
                            <label>Ïù¥Î¶Ñ</label>
                            <input type="text" id="ins-name" placeholder="Ïù¥Î≤§Ìä∏ Ïù¥Î¶Ñ">
                        </div>
                        <div class="ins-row" style="flex: 1;">
                            <label>ÎÖ∏Ìä∏</label>
                            <input type="text" id="ins-note" placeholder="Ïù¥Î≤§Ìä∏ ÎÖ∏Ìä∏">
                        </div>
                    </section>

                    <!-- Î≤ÑÌäº Í∑∏Î£π -->
                    <div class="ins-button-group">
                        <button class="ins-btn" id="ins-btn-new">ÏÉàÎ°ú ÎßåÎì§Í∏∞</button>
                        <button class="ins-btn" id="ins-btn-copy">Î≥µÏÇ¨</button>
                        <button class="ins-btn" id="ins-btn-paste">Î∂ôÏó¨ÎÑ£Í∏∞</button>
                        <button class="ins-btn" id="ins-btn-delete">ÏÇ≠Ï†ú</button>
                        <button class="ins-btn" id="ins-btn-clear">ÎπÑÏö∞Í∏∞</button>
                    </div>
                        <div id="ins-page-tab-container" style="display: flex; gap: 2px; overflow-x: auto; padding-bottom: 4px;"></div>

                    <!-- ÌéòÏù¥ÏßÄ ÌÉ≠ -->
                    <div class="ins-tabs" style="display: flex; background: #333;">
                        <button class="ins-page-tab active" data-tab="setting" style="flex: 1;">ÌéòÏù¥ÏßÄ ÏÑ§Ï†ï</button>
                        <button class="ins-page-tab" data-tab="commands" style="flex: 1;">Ïã§Ìñâ ÎÇ¥Ïö©</button>
                    </div>

                    <!-- ÌéòÏù¥ÏßÄ ÎÇ¥Ïö© -->
                    <div id="ins-page-content"
                        style="display: flex; flex-direction: column; flex: 1; overflow: hidden;">

                        <!-- ÌéòÏù¥ÏßÄ ÏÑ§Ï†ï ÌÉ≠ ÎÇ¥Ïö© -->
                        <div id="ins-setting-content" class="ins-tab-content"
                            style="display: flex; flex-direction: column; flex: 1; overflow-y: auto;">

                            <!-- Ï°∞Í±¥ ÏÑπÏÖò (Îß® ÏúÑ) -->
                            <section class="ins-section">
                                <div class="ins-label">Ï°∞Í±¥</div>
                                <div style="display: flex; gap: 12px; margin-bottom: 8px;">
                                    <div class="ins-row" style="flex: 1;">
                                        <label style="display: flex; align-items: center; gap: 4px;">
                                            <input type="checkbox" id="ins-switch1-check" style="cursor: pointer;">
                                            Ïä§ÏúÑÏπò1
                                        </label>
                                        <button id="ins-switch1-selector" class="ins-selector-btn" style="width: 100%; padding: 6px; font-size: 11px; margin-top: 4px; text-align: left;">ÏÑ†ÌÉù</button>
                                        <span id="ins-switch1-name" style="font-size: 10px; color: #999; margin-top: 4px; display: block;"></span>
                                    </div>
                                    <div class="ins-row" style="flex: 1;">
                                        <label style="display: flex; align-items: center; gap: 4px;">
                                            <input type="checkbox" id="ins-switch2-check" style="cursor: pointer;">
                                            Ïä§ÏúÑÏπò2
                                        </label>
                                        <button id="ins-switch2-selector" class="ins-selector-btn" style="width: 100%; padding: 6px; font-size: 11px; margin-top: 4px; text-align: left;">ÏÑ†ÌÉù</button>
                                        <span id="ins-switch2-name" style="font-size: 10px; color: #999; margin-top: 4px; display: block;"></span>
                                    </div>
                                </div>
                                <div style="display: flex; gap: 12px;">
                                    <div class="ins-row" style="flex: 1;">
                                        <label style="display: flex; align-items: center; gap: 4px;">
                                            <input type="checkbox" id="ins-self-switch-check" style="cursor: pointer;">
                                            ÏÖÄÌîÑ Ïä§ÏúÑÏπò
                                        </label>
                                        <select id="ins-self-switch"
                                            style="width: 100%; padding: 4px; font-size: 11px;">
                                            <option value="A">A</option>
                                            <option value="B">B</option>
                                            <option value="C">C</option>
                                            <option value="D">D</option>
                                        </select>
                                    </div>
                                    <div class="ins-row" style="flex: 1;">
                                        <label style="display: flex; align-items: center; gap: 4px;">
                                            <input type="checkbox" id="ins-variable-check" style="cursor: pointer;">
                                            Î≥ÄÏàò
                                        </label>
                                        <button id="ins-variable-selector" class="ins-selector-btn" style="width: 100%; padding: 6px; font-size: 11px; margin-top: 4px; text-align: left;">ÏÑ†ÌÉù</button>
                                        <div style="display: flex; gap: 4px; margin-top: 4px;">
                                            <input type="number" id="ins-variable-value" placeholder="Í∞í"
                                                style="flex: 1; padding: 4px; font-size: 11px;">
                                        </div>
                                        <span id="ins-variable-name" style="font-size: 10px; color: #999; margin-top: 4px; display: block;"></span>
                                    </div>
                                </div>
                            </section>

                            <!-- Ïù¥ÎØ∏ÏßÄÏôÄ ÏòµÏÖò (Í∞ÄÎ°ú Î∞∞Ïπò) -->
                            <div style="display: flex; gap: 8px; margin-bottom: 8px; align-items: flex-start;">
                                <!-- Ïù¥ÎØ∏ÏßÄ ÏÑπÏÖò (ÏôºÏ™Ω) -->
                                <section class="ins-section" style="flex: 0 0 auto; display: flex; flex-direction: column;">
                                    <div class="ins-label">Ïù¥ÎØ∏ÏßÄ</div>
                                    <div id="ins-preview"
                                        style="display: flex; justify-content: center; align-items: center; background: #1a1a1a; border: 1px solid #444; border-radius: 4px; width: 120px; height: 120px; flex-shrink: 0;">
                                    </div>
                                </section>

                                <!-- ÏòµÏÖò ÏÑπÏÖò (Ïò§Î•∏Ï™Ω) -->
                                <section class="ins-section" style="flex: 1; display: flex; flex-direction: column;">
                                    <div class="ins-label">ÏòµÏÖò</div>
                                    <div style="overflow-y: auto; flex: 1;">
                                        <div class="ins-row"
                                            style="flex-direction: row; justify-content: space-between; align-items: center;">
                                            <label>Î≥¥Ìñâ ÏõÄÏßÅÏûÑ</label>
                                            <button id="ins-walk-anime" class="ins-toggle-btn" data-setting="walkAnime"
                                                style="width: 50px; padding: 4px; background: #1a1a1a; border: 1px solid #555; border-radius: 2px; color: #fff; cursor: pointer; font-size: 11px;">OFF</button>
                                        </div>
                                        <div class="ins-row"
                                            style="flex-direction: row; justify-content: space-between; align-items: center;">
                                            <label>Ï†úÏûêÎ¶¨ ÏõÄÏßÅÏûÑ</label>
                                            <button id="ins-step-anime" class="ins-toggle-btn" data-setting="stepAnime"
                                                style="width: 50px; padding: 4px; background: #1a1a1a; border: 1px solid #555; border-radius: 2px; color: #fff; cursor: pointer; font-size: 11px;">OFF</button>
                                        </div>
                                        <div class="ins-row"
                                            style="flex-direction: row; justify-content: space-between; align-items: center;">
                                            <label>Î∞©Ìñ• Í≥†Ï†ï</label>
                                            <button id="ins-dir-fix" class="ins-toggle-btn" data-setting="directionFix"
                                                style="width: 50px; padding: 4px; background: #1a1a1a; border: 1px solid #555; border-radius: 2px; color: #fff; cursor: pointer; font-size: 11px;">OFF</button>
                                        </div>
                                        <div class="ins-row"
                                            style="flex-direction: row; justify-content: space-between; align-items: center;">
                                            <label>ÌÜµÍ≥º</label>
                                            <button id="ins-through" class="ins-toggle-btn" data-setting="through"
                                                style="width: 50px; padding: 4px; background: #1a1a1a; border: 1px solid #555; border-radius: 2px; color: #fff; cursor: pointer; font-size: 11px;">OFF</button>
                                        </div>
                                    </div>
                                </section>
                            </div>

                            <!-- Ïö∞ÏÑ†Í∂åÍ≥º Î∞úÎèô (Ìïú Ìñâ) -->
                            <div style="display: flex; gap: 8px; margin-bottom: 8px;">
                                <div class="ins-row" style="flex: 1;">
                                    <label>Ïö∞ÏÑ†Í∂å</label>
                                    <select id="ins-priority" style="width: 100%; padding: 4px; font-size: 11px;">
                                        <option value="0">ÏïÑÎûò</option>
                                        <option value="1">ÎèôÏùº</option>
                                        <option value="2">ÏúÑ</option>
                                    </select>
                                </div>
                                <div class="ins-row" style="flex: 1;">
                                    <label>Î∞úÎèô</label>
                                    <select id="ins-trigger" style="width: 100%; padding: 4px; font-size: 11px;">
                                        <option value="0">Í≤∞Ï†ïÌÇ§</option>
                                        <option value="1">ÌîåÎ†àÏù¥Ïñ¥ Ï†ëÍ∑º</option>
                                        <option value="2">Ïù¥Î≤§Ìä∏ Ï†ëÍ∑º</option>
                                        <option value="3">ÏûêÎèô</option>
                                        <option value="4">Î≥ëÎ†¨</option>
                                    </select>
                                </div>
                            </div>

                            <!-- Ïù¥Îèô ÏÑ§Ï†ï (Ìïú Ìñâ) -->
                            <div style="display: flex; gap: 8px; margin-bottom: 8px;">
                                <div class="ins-row" style="flex: 1;">
                                    <label>ÌÉÄÏûÖ</label>
                                    <select id="ins-move-type" style="width: 100%; padding: 4px; font-size: 11px;">
                                        <option value="0">Í≥†Ï†ï</option>
                                        <option value="1">ÎûúÎç§</option>
                                        <option value="2">Ï†ëÍ∑º</option>
                                        <option value="3">Ïª§Ïä§ÌÖÄ</option>
                                    </select>
                                </div>
                                <div class="ins-row" style="flex: 1;">
                                    <label>Ïù¥Îèô Î£®Ìä∏</label>
                                    <button id="ins-move-route-btn" style="width: 100%; padding: 4px; background: #3a3a3a; border: 1px solid #555; border-radius: 2px; color: #fff; cursor: pointer; font-size: 11px;">ÏÑ§Ï†ï</button>
                                </div>
                                <div class="ins-row" style="flex: 1;">
                                    <label>ÏÜçÎèÑ</label>
                                    <select id="ins-move-speed" style="width: 100%; padding: 4px; font-size: 11px;">
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                        <option value="4">4</option>
                                        <option value="5">5</option>
                                        <option value="6">6</option>
                                    </select>
                                </div>
                                <div class="ins-row" style="flex: 1;">
                                    <label>ÎπàÎèÑ</label>
                                    <select id="ins-move-freq" style="width: 100%; padding: 4px; font-size: 11px;">
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                        <option value="4">4</option>
                                        <option value="5">5</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <!-- Ïã§Ìñâ ÎÇ¥Ïö© ÌÉ≠ (Î≥ÑÎèÑ) -->
                        <div id="ins-commands-content" class="ins-tab-content"
                            style="display: none; flex-direction: column; flex: 1; overflow: hidden;">
                            <section class="ins-section flex-fill" style="flex: 1; display: flex; flex-direction: column; overflow: hidden;">
                                <div class="ins-label">Ïã§Ìñâ ÎÇ¥Ïö©</div>
                                <div id="ins-contents-list"
                                    style="flex: 1; background: #1a1a1a; border: 1px solid #444; border-radius: 2px; overflow-y: auto; padding: 6px; font-family: 'Courier New', monospace;">
                                </div>
                            </section>
                        </div>
                    </div>
            </aside>
        </main>
    </div>



    <script src="script/EventCommandDef.js"></script>
    <script src="script/TileManager.js"></script>
    <script src="script/FieldEditor.js"></script>
    <script src="script/EventEditor.js"></script>
    <script src="script/EventManager.js"></script>
    <script src="script/_main.js"></script>
</body>
<div id="context-menu" class="hidden" style="position: fixed;">
    <div onclick="editor.editMap()">Ìé∏Ïßë</div>
    <div onclick="editor.deleteMap()">Ï†úÍ±∞</div>
</div>

</html>